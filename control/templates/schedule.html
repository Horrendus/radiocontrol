<!DOCTYPE html>
{% load staticfiles %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Radio Schedule</title>
    <link href="{% static 'bootstrap/css/bootstrap.min.css' %}"
          rel="stylesheet" media="screen">
</head>
<p>
{% if user.is_authenticated %}
    <p>Welcome, {{ user.username }}. Thanks for logging in. <a href="/logout">Logout.</a></p>
{% else %}
    <p>Please <a href="/login/">login</a>.</p>
{% endif %}
{% block content %}
    {% if messages %}
    <div>
        {% for message in messages %}
            <h2 class="{{message.tag}}">{{ message.message }}</h2>
        {% endfor %}
    </div>
    {% endif %}
{% endblock %}

<p>
    <a href="/schedule/new.html">New Schedule Entry</a>
    <br />
</p>

<table class="table"  style="font-family:monospace;">
    <tr>
      <th>Playlist</th>
      <th>Date</th>
      <th>Begin</th>
      <th>End</th>
      <th>Details</th>
      <th>Delete</th>
  </tr>

  {% for entry in all_entries %}
        <tr>
            <td>{{entry.playlist.name}}</td>
            <td>{{entry.begin_time.astimezone.date|date:"D, d.m"}}</td>
            <td>{{entry.begin_time.astimezone.time|date:"H:i"}}</td>
            <td>{{entry.end_time.astimezone.time|date:"H:i"}}</td>
            <td><a href="/scheduleentry/{{ entry.id }}/">Show</a></td>
            <td><a id="{{post.id}}" href="#" onclick="javascript:deletePost(this)">Delete Entry</a></td>
        </tr>
  {% endfor %}
</table>

<p>
    {% if not display_old %}
        <a href="/schedule.html?old=true">Include old scheduled Entries</a>
    {% else %}
        <a href ="/schedule.html">Display only upcoming Entries</a>
    {% endif %}
    <br />
</p>

<br />
<script src="{% static 'bootstrap/js/bootstrap.min.js' %}"></script>
</body>
</html>